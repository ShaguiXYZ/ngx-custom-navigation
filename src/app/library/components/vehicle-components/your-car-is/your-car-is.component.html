<article class="component-container">
  <quote-header-title>
    <span nxQuoteLiteral="header"></span>
    <p nxCopytext="normal" nxQuoteLiteral="subheader"></p>
  </quote-header-title>
  <div class="form-container" [ngClass]="{ 'not-found': notFound }">
    @for(vehicle of vehicleOptions; track vehicle; let index = $index) {
    <div class="selectable-row reveal">
      @defer(on viewport) { @let brand_model = vehicle.brand + ' ' + vehicle.model; @let vehicle_info = vehicle.fuel?.data + ' - ' +
      vehicle.power + ' CV - ' + vehicle.yearOfManufacture;
      <quote-text-card
        [selected]="vehicle.vehicleCode === selectedVehicle?.vehicleCode"
        [fullHeight]="true"
        [nxTrack]="{
          lable: brand_model + ' ' + vehicle_info
        }"
        [nxTrackEvents]="['click']"
        (uiSelect)="selectVehicle(vehicle)"
      >
        <div class="card-container">
          <span nxCopytext="medium" class="card-text nx-margin-top-s nx-font-weight-bold">{{ brand_model }}</span>
          <span nxCopytext="medium" class="card-text nx-margin-bottom-s">
            {{ vehicle_info }}
          </span>
        </div>
      </quote-text-card>
      } @placeholder {
      <div class="card-placeholder"></div>
      }
    </div>
    }
  </div>
  <quote-footer>
    @let literal = 'continue-without-car';
    <div class="extra__footer__options">
      <button
        class="nx-margin-y-2xs"
        nxButton="{{ notFound ? 'primary' : 'tertiary' }} 'small'"
        type="button"
        [nxTrack]="{
          label: literal | quoteLiteral
        }"
        [nxTrackEvents]="['click']"
        (click)="continue()"
      >
        <span nxCopytext="medium" class="uppercase nx-font-weight-bold" [nxQuoteLiteral]="literal"></span>
      </button>
    </div>
  </quote-footer>
</article>
