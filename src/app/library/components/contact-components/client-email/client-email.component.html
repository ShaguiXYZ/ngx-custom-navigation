<article class="component-container">
  <quote-header-title>
    <span nxQuoteLiteral="header"></span>
    <p nxCopytext="normal" nxQuoteLiteral="subheader"></p>
  </quote-header-title>
  <section class="form-container">
    <form [formGroup]="form">
      <nx-formfield [label]="'e-mail' | quoteLiteral">
        <input type="email" formControlName="email" nxInput nxAutoFocus />
        @if(form.get('email')?.errors?.['required']) {
        <nx-error appearance="text" nxFormfieldError><span nxQuoteLiteral="error-required"></span> </nx-error>
        } @if(form.get('email')?.errors?.['matches']) {
        <nx-error appearance="text" nxFormfieldError><span nxQuoteLiteral="bad-format"></span> </nx-error>
        }
      </nx-formfield>
      <quote-zone>
        <div class="products-info nx-margin-top-s">
          <div class="products-info-literal nx-margin-right-xs" nxCopytext="normal">
            <span nxQuoteLiteral="more-info"></span>
          </div>
          <nx-switcher formControlName="accepInfo" />
        </div>
      </quote-zone>
      <quote-zone>
        <div class="products-info nx-margin-top-s">
          <div class="privatity products-info-literal nx-margin-right-xs" nxCopytext="normal">
            <span nxQuoteLiteral="privacy-policy-text"></span>
          </div>
          <nx-switcher formControlName="acceptPrivacyPolicy" />
        </div>
        @if(form.get('acceptPrivacyPolicy')?.touched && form.get('acceptPrivacyPolicy')?.errors?.['requiredTrue']) {
        <nx-error class="align-right" appearance="text" nxFormfieldError><span nxQuoteLiteral="error-required"></span></nx-error>
        }
      </quote-zone>
      <quote-zone>
        <div class="legal-text nx-margin-top-s" nxCopytext="normal" nxQuoteLiteral="legal-text">
          <span class="products-info-literal nx-margin-y-s"></span>
        </div>
      </quote-zone>
    </form>
  </section>
  <quote-footer
    [trackInfo]="{
      email: form.get('email')?.value,
    }"
    (uiOnNext)="updateValidData()"
  />
</article>
