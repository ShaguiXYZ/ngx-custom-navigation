<article class="component-container">
  <quote-header-title><span nxQuoteLiteral="header"></span></quote-header-title>
  <section class="form-container">
    <form [formGroup]="form">
      <nx-formfield [label]="'search' | quoteLiteral" appearance="outline">
        <input #searchInput type="text" formControlName="searchInput" nxInput [nxAutocomplete]="brands" nxAutocompleteDebounce="0" />
        <span nxFormfieldSuffix>
          <nx-icon name="search" size="s"></nx-icon>
        </span>
      </nx-formfield>
      <nx-autocomplete #brands="nxAutocomplete" (optionSelected)="selectAutocompleteMake($event)">
        @for (item of searchedMakes; track item) {
        <nx-autocomplete-option [value]="item">
          {{ item | lowercase }}
        </nx-autocomplete-option>
        }
      </nx-autocomplete>
    </form>

    <div class="icon-brands">
      @for(make of makes; track make) {
      <quote-brand
        class="nx-margin-x-3xs nx-margin-y-3xs"
        [brand]="make"
        [selected]="selectedMake === make"
        (uiSelect)="selectMake($event)"
      />
      }
    </div>
  </section>
</article>
