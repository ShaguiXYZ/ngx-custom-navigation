<article class="component-container">
  <quote-header-title><span nxQuoteLiteral="header"></span></quote-header-title>
  <section class="form-container">
    <form [formGroup]="form">
      <nx-formfield [label]="'date-of-issue-label' | quoteLiteral">
        <input
          formControlName="dateOfIssue"
          nxDatefield
          nxInput
          [min]="minDate"
          [max]="maxDate"
          [datepicker]="myDatepicker"
          [parseFormat]="dateFormats"
          displayFormat="DD/MM/YYYY"
        />
        <span nxFormfieldHint nxQuoteLiteral="hint-date-format"></span>
        <nx-datepicker-toggle [for]="myDatepicker" nxFormfieldSuffix></nx-datepicker-toggle>
        <nx-datepicker #myDatepicker></nx-datepicker>
        @if(form.get('dateOfIssue')?.errors?.['required']) {
        <nx-error appearance="text" nxFormfieldError><span nxQuoteLiteral="error-required"></span> </nx-error>
        } @if(form.get('dateOfIssue')?.errors?.['betweenDates']) {
        <nx-error appearance="text" nxFormfieldError
          ><span
            nxQuoteLiteral="error-not-between-dates"
            [nxQuoteLitealParams]="{ min: minDate.format('DD/MM/YYYY'), max: maxDate.format('DD/MM/YYYY') }"
          ></span>
        </nx-error>
        }
      </nx-formfield>
    </form>
  </section>
  <quote-footer
    [trackInfo]="{
      dateOfIssue: form.get('dateOfIssue')?.value?.format(dateFormat)
    }"
    (uiOnNext)="updateValidData()"
  />
</article>
