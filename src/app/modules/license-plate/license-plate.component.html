<article class="component-container">
  <quote-header-title>
    <span nxQuoteLiteral="header"></span>
  </quote-header-title>
  <section class="form-container">
    <form [formGroup]="form">
      <nx-formfield [label]="'license-plate' | quoteLiteral">
        <nx-licence-plate-euro-prefix nxFormfieldPrefix>E</nx-licence-plate-euro-prefix>
        <input #searchInput type="text" formControlName="plateNumber" nxInput nxMask="0000 SSS" />
        @if(form.get('plateNumber')?.errors?.['required']) {
        <nx-error appearance="text" nxFormfieldError><span nxQuoteLiteral="error-required"></span> </nx-error>
        } @if(form.get('plateNumber')?.errors?.['nxMaskLengthError']) {
        <nx-error appearance="text" nxFormfieldError>
          <span nxQuoteLiteral="bad-format" [nxQuoteLitealParams]="{ value: '0000 SSS' }"></span
        ></nx-error>
        }
      </nx-formfield>
    </form>
  </section>
  <quote-footer
    [data]="_contextData"
    [trackInfo]="{
      title: 'header' | quoteLiteral,
      plateNumber: form.get('plateNumber')?.value
    }"
    (uiOnNext)="updateValidData()"
  >
    <div class="extra__footer__options">
      <button
        class="nx-margin-y-2xs w-100"
        nxButton="tertiary small"
        type="button"
        [nxTrack]="{
          label: 'continue-without-license-plate' | quoteLiteral,
          title: 'header' | quoteLiteral,
          plateNumber: ''
        }"
        [nxTrackEvents]="['click']"
        (click)="continueWithOutLicensePlate()"
      >
        <span nxCopytext="medium" class="uppercase nx-font-weight-bold" nxQuoteLiteral="continue-without-license-plate"></span>
      </button>
    </div>
    <div class="extra__footer__info">
      <quote-footer-info icon="fa-car">
        <span nxQuoteLiteral="footer-info"></span>
      </quote-footer-info>
    </div>
  </quote-footer>
</article>
