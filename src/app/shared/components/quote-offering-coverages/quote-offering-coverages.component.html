<article class="component-container">
  <quote-header-title>
    <span class="header__title" nxHeadline="subsection-medium" nxQuoteLiteral="coverages-modal-header"></span>
  </quote-header-title>

  <section class="form-container">
    <nx-tab-group [mobileAccordion]="false" [selectedIndex]="selectedPriceIndex">
      @for(price of prices; track price.modalityId) {
      <nx-tab [label]="price.modalityDescription" [tabIndex]="$index">
        <div class="coverages">
          <nx-accordion variant="light" [multi]="false">
            @for(coverage of price.coverageList; track coverage.code) {
            <nx-expansion-panel [expanded]="false">
              <nx-expansion-panel-header>
                <nx-expansion-panel-title nxHeadline="subsection-xsmall">
                  <div class="coverage">
                    <em class="coverage-icon nx-margin-right-xs fa-solid fa-check"></em>
                    <p nxCopytext="normal" class="nx-margin-right-m">{{ coverage.text }}</p>
                  </div>
                </nx-expansion-panel-title>
              </nx-expansion-panel-header>
              {{ coverage.description || coverage.text }}
            </nx-expansion-panel>
            }
          </nx-accordion>
        </div>
      </nx-tab>
      }
    </nx-tab-group>
  </section>
</article>
