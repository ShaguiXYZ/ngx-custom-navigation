{
  "last_update": "2024-06-13 15:00:00",
  "homePageId": "on-boarding",
  "steppers": [
    {
      "steps": [
        {
          "label": "Datos personales",
          "pages": ["is-client", "place", "birthdate", "driving-license-date", "driving-license-location", "date-of-issue"]
        },
        {
          "label": "Datos del coche",
          "pages": [
            "vehicle-type",
            "license-plate",
            "your-car-is",
            "make",
            "vehicle-models",
            "vehicle-fuel",
            "vehicle-model-versions",
            "license-year"
          ]
        },
        {
          "label": "Datos del Seguro",
          "pages": ["is-policy-owner", "insurance-companies", "number-accidents"]
        },
        {
          "label": "Datos del Contacto",
          "pages": ["client-name", "client-phone-number", "client-email", "client-identification-number"]
        },
        {
          "label": "Presupuesto",
          "pages": ["offerings"]
        }
      ]
    },
    {
      "steps": [
        {
          "label": "Datos del Cliente",
          "pages": [
            "is-client-client-name",
            "is-client-client-phone-number",
            "is-client-client-email",
            "is-client-client-identification-number"
          ]
        },
        {
          "label": "Te llamamos",
          "pages": ["is-client-contact-us"]
        }
      ]
    },
    {
      "steps": [
        {
          "label": "Como podemos contactarte",
          "pages": ["external-contact-us"]
        },
        {
          "label": "Cuando podemos contactarte",
          "pages": ["external-contact-time"]
        }
      ]
    }
  ],
  "pageMap": [
    {
      "pageId": "on-boarding",
      "nextOptionList": [
        {
          "nextPageId": "is-client"
        }
      ],
      "configuration": {
        "data": {
          "showBack": false
        }
      }
    },
    {
      "pageId": "is-client",
      "nextOptionList": [
        {
          "nextPageId": "is-client-client-name",
          "conditions": [
            {
              "expression": "client.isClient",
              "value": "true"
            }
          ]
        },
        {
          "nextPageId": "place"
        }
      ],
      "configuration": {
        "data": {
          "showBack": false
        }
      }
    },
    {
      "pageId": "place",
      "nextOptionList": [
        {
          "nextPageId": "contact-us",
          "conditions": [
            {
              "expression": "place.province.index",
              "value": "51"
            },
            {
              "expression": "place.province.index",
              "union": "OR",
              "value": "52"
            }
          ]
        },
        {
          "nextPageId": "date-of-issue"
        }
      ]
    },
    {
      "pageId": "birthdate",
      "nextOptionList": [
        {
          "nextPageId": "driving-license-location"
        }
      ]
    },
    {
      "pageId": "driving-license-date",
      "nextOptionList": [
        {
          "nextPageId": "vehicle-type"
        }
      ]
    },
    {
      "pageId": "driving-license-location",
      "nextOptionList": [
        {
          "nextPageId": "contact-us",
          "conditions": [
            {
              "expression": "driven.drivenLicenseCountry",
              "value": "other"
            }
          ]
        },
        {
          "nextPageId": "driving-license-date"
        }
      ]
    },
    {
      "pageId": "date-of-issue",
      "nextOptionList": [
        {
          "nextPageId": "birthdate"
        }
      ]
    },
    {
      "pageId": "license-plate",
      "nextOptionList": [
        {
          "nextPageId": "make",
          "conditions": [
            {
              "expression": "driven.hasDrivenLicense",
              "value": "false"
            }
          ]
        },
        {
          "nextPageId": "your-car-is"
        }
      ]
    },
    {
      "pageId": "your-car-is",
      "nextOptionList": [
        {
          "nextPageId": "license-year",
          "conditions": [
            {
              "expression": "vehicle.make",
              "value": ""
            }
          ]
        },
        {
          "nextPageId": "is-policy-owner"
        }
      ]
    },
    {
      "pageId": "make",
      "nextOptionList": [
        {
          "nextPageId": "vehicle-models"
        }
      ]
    },
    {
      "pageId": "vehicle-type",
      "nextOptionList": [
        {
          "nextPageId": "make",
          "conditions": [
            {
              "expression": "vehicle.vehicleTtype",
              "value": "unregistered"
            }
          ]
        },
        {
          "nextPageId": "license-plate"
        }
      ]
    },
    {
      "pageId": "vehicle-models",
      "nextOptionList": [
        {
          "nextPageId": "vehicle-fuel"
        }
      ]
    },
    {
      "pageId": "vehicle-fuel",
      "nextOptionList": [
        {
          "nextPageId": "vehicle-model-versions"
        }
      ]
    },
    {
      "pageId": "vehicle-model-versions",
      "nextOptionList": [
        {
          "nextPageId": "is-policy-owner"
        }
      ]
    },
    {
      "pageId": "license-year",
      "nextOptionList": [
        {
          "nextPageId": "is-policy-owner"
        }
      ]
    },
    {
      "pageId": "is-policy-owner",
      "nextOptionList": [
        {
          "nextPageId": "client-name",
          "conditions": [
            {
              "expression": "client.isPolicyOwner",
              "value": "false"
            },
            {
              "expression": "vehicle.vehicleTtype",
              "union": "AND",
              "value": "new"
            }
          ]
        },
        {
          "nextPageId": "insurance-companies",
          "conditions": [
            {
              "expression": "vehicle.vehicleTtype",
              "value": "new"
            },
            {
              "expression": "vehicle.vehicleTtype",
              "union": "OR",
              "value": "second_hand"
            },
            {
              "expression": "client.isPolicyOwner",
              "union": "AND",
              "value": "true"
            }
          ]
        },
        {
          "nextPageId": "apology-screen",
          "conditions": [
            {
              "expression": "client.isPolicyOwner",
              "value": "false"
            },
            {
              "expression": "vehicle.vehicleTtype",
              "union": "AND",
              "value": "old"
            }
          ]
        },
        {
          "nextPageId": "number-accidents"
        }
      ]
    },
    {
      "pageId": "insurance-companies",
      "nextOptionList": [
        {
          "nextPageId": "number-accidents"
        }
      ]
    },
    {
      "pageId": "number-accidents",
      "nextOptionList": [
        {
          "nextPageId": "client-name"
        }
      ]
    },
    {
      "pageId": "client-name",
      "nextOptionList": [
        {
          "nextPageId": "client-phone-number"
        }
      ]
    },
    {
      "pageId": "client-phone-number",
      "nextOptionList": [
        {
          "nextPageId": "client-email"
        }
      ]
    },
    {
      "pageId": "client-email",
      "nextOptionList": [
        {
          "nextPageId": "client-identification-number"
        }
      ],
      "configuration": {
        "literals": {
          "legal-text": { "value": "Texto legal pendiente definir...", "type": "value" }
        }
      }
    },
    {
      "pageId": "client-identification-number",
      "nextOptionList": [
        {
          "nextPageId": "offerings"
        }
      ]
    },
    {
      "pageId": "offerings",
      "nextOptionList": [
        {
          "nextPageId": "contact-time"
        }
      ]
    },
    {
      "pageId": "contact-time",
      "nextOptionList": [
        {
          "nextPageId": "on-boarding"
        }
      ]
    },
    {
      "pageId": "contact-us",
      "configuration": {
        "literals": {
          "header": { "value": "¡Qué sorpresa!", "type": "value" },
          "subheader": "Actualmente no podemos hacer seguros con esas condiciones.",
          "body": "Para cualquier consulta:"
        }
      }
    },
    {
      "pageId": "apology-screen"
    },
    {
      "pageId": "is-client-client-name",
      "route": "client-name",
      "nextOptionList": [
        {
          "nextPageId": "is-client-client-phone-number"
        }
      ]
    },
    {
      "pageId": "is-client-client-phone-number",
      "route": "client-phone-number",
      "nextOptionList": [
        {
          "nextPageId": "is-client-client-email"
        }
      ]
    },
    {
      "pageId": "is-client-client-email",
      "route": "client-email",
      "nextOptionList": [
        {
          "nextPageId": "is-client-client-identification-number"
        }
      ]
    },
    {
      "pageId": "is-client-client-identification-number",
      "route": "client-identification-number",
      "nextOptionList": [
        {
          "nextPageId": "is-client-contact-us"
        }
      ]
    },
    {
      "pageId": "is-client-contact-us",
      "route": "contact-us",
      "configuration": {
        "literals": {
          "header": "Calcular mi seguro",
          "subheader": "Actualmente no podemos hacer seguros con esas condiciones.",
          "body": "Para cualquier consulta:"
        }
      }
    },
    {
      "pageId": "external-contact-us",
      "route": "contact-us",
      "nextOptionList": [
        {
          "nextPageId": "external-contact-time"
        }
      ],
      "configuration": {
        "literals": {
          "header": { "value": "Dinos cómo podemos contactarte", "type": "value" },
          "subheader": "Podemos ayudarte, ¿Quieres que te llamemos?",
          "body": "Podemos llamarte y ayudarte a encontrar el mejor seguro para ti, con las mejores coberturas."
        }
      }
    },
    {
      "pageId": "external-contact-time",
      "route": "contact-time",
      "nextOptionList": [
        {
          "nextPageId": "external-contact-us"
        }
      ]
    }
  ],
  "links": {
    "contact-us": "external-contact-us"
  }
}
